(function (exports) {
  'use strict';

  var Kt=Object.defineProperty,kt=Object.defineProperties;var Vt=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var Jt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var V=(t,e,r)=>e in t?Kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P=(t,e)=>{for(var r in e||(e={}))Jt.call(e,r)&&V(t,r,e[r]);if(k)for(var r of k(e))Qt.call(e,r)&&V(t,r,e[r]);return t},J=(t,e)=>kt(t,Vt(e));function B(t,e){return Object.entries(t).reduce((r,[o,a])=>{let f=e?`${e}.${o}`:o;return P(P({},r),typeof a=="object"&&a!==null?B(a,f):{[f]:a})},{})}var Xt=typeof global=="object"&&global&&global.Object===Object&&global,Q=Xt;var Yt=typeof self=="object"&&self&&self.Object===Object&&self,Zt=Q||Yt||Function("return this")(),y=Zt;var te=y.Symbol,l=te;var X=Object.prototype,ee=X.hasOwnProperty,re=X.toString,j=l?l.toStringTag:void 0;function oe(t){var e=ee.call(t,j),r=t[j];try{t[j]=void 0;var o=!0;}catch(f){}var a=re.call(t);return o&&(e?t[j]=r:delete t[j]),a}var Y=oe;var ae=Object.prototype,fe=ae.toString;function se(t){return fe.call(t)}var Z=se;var pe="[object Null]",ie="[object Undefined]",tt=l?l.toStringTag:void 0;function ue(t){return t==null?t===void 0?ie:pe:tt&&tt in Object(t)?Y(t):Z(t)}var b=ue;function le(t){return t!=null&&typeof t=="object"}var M=le;var ne="[object Symbol]";function me(t){return typeof t=="symbol"||M(t)&&b(t)==ne}var _=me;function de(t,e){for(var r=-1,o=t==null?0:t.length,a=Array(o);++r<o;)a[r]=e(t[r],r,t);return a}var et=de;var xe=Array.isArray,v=xe;var ce=1/0,rt=l?l.prototype:void 0,ot=rt?rt.toString:void 0;function at(t){if(typeof t=="string")return t;if(v(t))return et(t,at)+"";if(_(t))return ot?ot.call(t):"";var e=t+"";return e=="0"&&1/t==-ce?"-0":e}var ft=at;function he(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var h=he;var ge="[object AsyncFunction]",ye="[object Function]",be="[object GeneratorFunction]",_e="[object Proxy]";function ve(t){if(!h(t))return !1;var e=b(t);return e==ye||e==be||e==ge||e==_e}var st=ve;var Oe=y["__core-js_shared__"],E=Oe;var pt=function(){var t=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Se(t){return !!pt&&pt in t}var it=Se;var Ce=Function.prototype,we=Ce.toString;function Pe(t){if(t!=null){try{return we.call(t)}catch(e){}try{return t+""}catch(e){}}return ""}var ut=Pe;var je=/[\\^$.*+?()[\]{}|]/g,Ie=/^\[object .+?Constructor\]$/,Ae=Function.prototype,Te=Object.prototype,Me=Ae.toString,Ee=Te.hasOwnProperty,Re=RegExp("^"+Me.call(Ee).replace(je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function De(t){if(!h(t)||it(t))return !1;var e=st(t)?Re:Ie;return e.test(ut(t))}var lt=De;function Ne(t,e){return t==null?void 0:t[e]}var nt=Ne;function We(t,e){var r=nt(t,e);return lt(r)?r:void 0}var O=We;var ze=function(){try{var t=O(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),F=ze;var Be=9007199254740991,Fe=/^(?:0|[1-9]\d*)$/;function He(t,e){var r=typeof t;return e=e==null?Be:e,!!e&&(r=="number"||r!="symbol"&&Fe.test(t))&&t>-1&&t%1==0&&t<e}var mt=He;function Le(t,e,r){e=="__proto__"&&F?F(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r;}var dt=Le;function $e(t,e){return t===e||t!==t&&e!==e}var R=$e;var qe=Object.prototype,Ge=qe.hasOwnProperty;function Ue(t,e,r){var o=t[e];(!(Ge.call(t,e)&&R(o,r))||r===void 0&&!(e in t))&&dt(t,e,r);}var xt=Ue;function Ke(t,e){return function(r){return t(e(r))}}var ct=Ke;var ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ve=/^\w*$/;function Je(t,e){if(v(t))return !1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||_(t)?!0:Ve.test(t)||!ke.test(t)||e!=null&&t in Object(e)}var ht=Je;var Qe=O(Object,"create"),n=Qe;function Xe(){this.__data__=n?n(null):{},this.size=0;}var gt=Xe;function Ye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yt=Ye;var Ze="__lodash_hash_undefined__",tr=Object.prototype,er=tr.hasOwnProperty;function rr(t){var e=this.__data__;if(n){var r=e[t];return r===Ze?void 0:r}return er.call(e,t)?e[t]:void 0}var bt=rr;var or=Object.prototype,ar=or.hasOwnProperty;function fr(t){var e=this.__data__;return n?e[t]!==void 0:ar.call(e,t)}var _t=fr;var sr="__lodash_hash_undefined__";function pr(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&e===void 0?sr:e,this}var vt=pr;function S(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1]);}}S.prototype.clear=gt;S.prototype.delete=yt;S.prototype.get=bt;S.prototype.has=_t;S.prototype.set=vt;var H=S;function ir(){this.__data__=[],this.size=0;}var Ot=ir;function ur(t,e){for(var r=t.length;r--;)if(R(t[r][0],e))return r;return -1}var d=ur;var lr=Array.prototype,nr=lr.splice;function mr(t){var e=this.__data__,r=d(e,t);if(r<0)return !1;var o=e.length-1;return r==o?e.pop():nr.call(e,r,1),--this.size,!0}var St=mr;function dr(t){var e=this.__data__,r=d(e,t);return r<0?void 0:e[r][1]}var Ct=dr;function xr(t){return d(this.__data__,t)>-1}var wt=xr;function cr(t,e){var r=this.__data__,o=d(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}var Pt=cr;function C(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1]);}}C.prototype.clear=Ot;C.prototype.delete=St;C.prototype.get=Ct;C.prototype.has=wt;C.prototype.set=Pt;var jt=C;var hr=O(y,"Map"),It=hr;function gr(){this.size=0,this.__data__={hash:new H,map:new(It||jt),string:new H};}var At=gr;function yr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Tt=yr;function br(t,e){var r=t.__data__;return Tt(e)?r[typeof e=="string"?"string":"hash"]:r.map}var x=br;function _r(t){var e=x(this,t).delete(t);return this.size-=e?1:0,e}var Mt=_r;function vr(t){return x(this,t).get(t)}var Et=vr;function Or(t){return x(this,t).has(t)}var Rt=Or;function Sr(t,e){var r=x(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}var Dt=Sr;function w(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1]);}}w.prototype.clear=At;w.prototype.delete=Mt;w.prototype.get=Et;w.prototype.has=Rt;w.prototype.set=Dt;var L=w;var Cr="Expected a function";function $(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Cr);var r=function(){var o=arguments,a=e?e.apply(this,o):o[0],f=r.cache;if(f.has(a))return f.get(a);var i=t.apply(this,o);return r.cache=f.set(a,i)||f,i};return r.cache=new($.Cache||L),r}$.Cache=L;var Nt=$;var wr=500;function Pr(t){var e=Nt(t,function(o){return r.size===wr&&r.clear(),o}),r=e.cache;return e}var Wt=Pr;var jr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ir=/\\(\\)?/g,Ar=Wt(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jr,function(r,o,a,f){e.push(a?f.replace(Ir,"$1"):o||r);}),e}),zt=Ar;function Tr(t){return t==null?"":ft(t)}var Bt=Tr;function Mr(t,e){return v(t)?t:ht(t,e)?[t]:zt(Bt(t))}var Ft=Mr;var Er=1/0;function Rr(t){if(typeof t=="string"||_(t))return t;var e=t+"";return e=="0"&&1/t==-Er?"-0":e}var Ht=Rr;var Dr=ct(Object.getPrototypeOf,Object),Lt=Dr;var Nr="[object Object]",Wr=Function.prototype,zr=Object.prototype,$t=Wr.toString,Br=zr.hasOwnProperty,Fr=$t.call(Object);function Hr(t){if(!M(t)||b(t)!=Nr)return !1;var e=Lt(t);if(e===null)return !0;var r=Br.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&$t.call(r)==Fr}var D=Hr;function Lr(t,e,r,o){if(!h(t))return t;e=Ft(e,t);for(var a=-1,f=e.length,i=f-1,p=t;p!=null&&++a<f;){var s=Ht(e[a]),u=r;if(s==="__proto__"||s==="constructor"||s==="prototype")return t;if(a!=i){var m=p[s];u=o?o(m,s,p):void 0,u===void 0&&(u=h(m)?m:mt(e[a+1])?[]:{});}xt(p,s,u),p=p[s];}return t}var qt=Lr;function $r(t,e,r){return t==null?t:qt(t,e,r)}var N=$r;var q=class{constructor(e,r){this.apiConfig={};this.apiMap={};this.http=null;this.methods=["get","post","put","delete","patch","head","options","trace","connect"];this.api={};this.setApiConfig(r),this.setHttp(e);}setMethod(e){e.length&&(this.methods.push(...e),Object.entries(this.apiMap).filter(([r,o])=>e.some(a=>o.startsWith(a))).forEach(([r,o])=>this.setApi(r,o)));}setHttp(e){this.http=e;}setApiConfig(e){this.apiConfig=e;let r=B(e);Object.entries(r).forEach(([o,a])=>this.setApi(o,a));}setApi(e,r){N(this.apiConfig,e,r);let o=this.methods.some(a=>r.startsWith(a));this.apiMap[e]=(o?"":"get ")+r,this.generateApi(e);}getApi(e){return this.api[e]}getUrl(e,r,o){var I;let a=this.apiMap[e];if(!a)throw new Error(`api ${e} is not exist`);let f=this,i=/:(\w+\|?\w+(=\w+)?)|(\{\w+\|?\w+(=\w+)?\})/g,[p,s]=((I=a.split(" ").at(1))==null?void 0:I.split("?"))||[],[u,m]=[{str:p,data:o},{str:s,data:r}].map(({str:g,data:c},W)=>g==null?void 0:g.replace(i,A=>{let Gt=A.toString().replace(/[:{}]/g,""),[Ut,z=""]=Gt.split("="),G=Ut.split("|");return G.length?G.reduce((U,T)=>{var K;return (!c||c[T]===void 0)&&W===0&&!z&&f.throwError(`\u8DEF\u5F84\u53C2\u6570 ${T} \u7F3A\u5931,URL=${g}`),c&&c[T]!==void 0&&(U=((K=c[T])==null?void 0:K.toString())||z||""),U},z):""}));return encodeURI(u+(m?`?${m}`:""))}getData(e,r){var i;if(!r)return null;if(!D(r))return D||null;let a=this.apiMap[e].split(" ").at(2);return (((i=a==null?void 0:a.replace(/^\{|\}$/,""))==null?void 0:i.split(",").map(p=>{let[s,u=""]=p.split("=");return {field:s,defaultValue:u}}))||[]).reduce((p,{field:s,defaultValue:u})=>(p[s]=u,r[s]!==void 0&&(p[s]=r[s]),p),{})}throwError(e){throw new Error(e)}generateApi(e){let r=this.apiMap[e],[o,a,f]=r.split(" "),i=this;N(this.api,e,(p,s)=>{var A;let{query:u,path:m,data:I}=p||{},g=i.getUrl(e,u,m),c=i.getData(f,I),W=J(P({},s||{}),{url:g,method:o,data:c});return (A=i.http)==null?void 0:A.request(W)});}};/*! Bundled license information:

  lodash-es/lodash.js:
    (**
     * @license
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash modularize exports="es" -o ./`
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     *)
  */

  exports.SuperAPiBuilder = q;

  return exports;

})({});
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.global.js.map